document.addEventListener("DOMContentLoaded",function(){n()});async function n(){try{const e=await(await fetch("/activity/weekly")).json();s(e)}catch(t){console.error("Error fetching weekly activity:",t)}}function s(t){const e=document.getElementById("activity-chart");if(!e)return;const a=Object.keys(t),r=a.map(o=>t[o].task_count||0),i=a.map(o=>t[o].completed_tasks||0);window.activityChart&&window.activityChart.destroy(),window.activityChart=new Chart(e,{type:"bar",data:{labels:a,datasets:[{label:"Total Tasks",data:r,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Completed Tasks",data:i,backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},plugins:{legend:{position:"top"},title:{display:!0,text:"Weekly Activity Overview"}}}})}
